{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/* eslint-disable no-use-before-define */\n\n/* eslint-disable prettier/prettier */\n\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport { Flex, Avatar, Img, Divider, WrapItem } from '@chakra-ui/react';\nimport { getSession, useSession } from 'next-auth/client';\nimport { Text } from '@chakra-ui/react';\nimport Head from 'next/head';\nimport { supabase } from '../../services/supabase';\nimport { CourseList } from \"../../components/CourseList/index\";\nimport { MaterialList } from '../../components/MaterialList';\nimport styles from './styles.module.scss';\nimport { useGetLikedCourses } from '../../services/hooks/useCourses';\nimport { useGetLikedMaterials } from '../../services/hooks/useMaterials';\nimport useLocale from '../../services/hooks/useLocale';\nexport default function Home({\n  currentUserId\n}) {\n  const [session] = useSession();\n  const t = useLocale();\n  const {\n    data: likedCoursesArray,\n    isLoading,\n    isFetching,\n    error\n  } = useGetLikedCourses(currentUserId);\n  const {\n    data: likedMaterialsArray,\n    isLoading: isLoadingLikedMaterials,\n    isFetching: isFetchingLikedMaterials,\n    error: errLikedMaterials\n  } = useGetLikedMaterials(currentUserId);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Home | PeerNote\"\n      })\n    }), !!session && /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.contentContainer,\n        children: [/*#__PURE__*/_jsxs(Flex, {\n          alignItems: \"center\",\n          my: \"2rem\",\n          justify: \"center\",\n          children: [/*#__PURE__*/_jsxs(WrapItem, {\n            mr: \"6\",\n            children: [/*#__PURE__*/_jsx(Avatar, {\n              size: \"xl\",\n              name: session.user.name,\n              src: session === null || session === void 0 ? void 0 : session.user.image\n            }), \" \"]\n          }), /*#__PURE__*/_jsxs(Text, {\n            fontSize: \"5xl\",\n            fontWeight: \"bold\",\n            color: \"purple.500\",\n            children: [t.home.greeting, \" \", session.user.name, \"!\"]\n          })]\n        }), /*#__PURE__*/_jsx(Divider, {\n          borderColor: \"purple.500\",\n          border: \"1px\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.topText,\n          children: [/*#__PURE__*/_jsx(WrapItem, {\n            color: \"green.400\",\n            boxSize: \"10\",\n            children: /*#__PURE__*/_jsx(Img, {\n              fill: \"white\",\n              alt: \"library\",\n              src: \"/assets/icons/library.svg\"\n            })\n          }), /*#__PURE__*/_jsx(\"h1\", {\n            children: t.home.yourLibrary\n          })]\n        }), /*#__PURE__*/_jsx(CourseList, {\n          title: t.home.likedCourses,\n          coursesArray: likedCoursesArray,\n          isLoading: isLoading,\n          isFetching: isFetching,\n          error: error\n        }), /*#__PURE__*/_jsx(MaterialList, {\n          title: t.home.likedMaterials,\n          materialArray: likedMaterialsArray,\n          isLoading: isLoadingLikedMaterials,\n          isFetching: isFetchingLikedMaterials,\n          error: errLikedMaterials\n        })]\n      })\n    })]\n  });\n}\nexport const getServerSideProps = async ({\n  req\n}) => {\n  const session = await getSession({\n    req\n  });\n\n  if (!session) {\n    return {\n      redirect: {\n        destination: `/`,\n        permanent: false\n      }\n    };\n  }\n\n  const {\n    data: currentUserId\n  } = await supabase.from('users').select('id').eq('email', session.user.email).single();\n  return {\n    props: {\n      currentUserId\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}